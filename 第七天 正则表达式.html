<html>
<head>
  <title>第七天 正则表达式</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/303788 (zh-CN, DDL); Windows/6.2.9200 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="898"/>
<h1>第七天 正则表达式</h1>

<div>
<span><div><b><span style="font-size: 21px;"><span style="color: rgb(227, 0, 0);">1.正则表达式</span></span></b></div><div>用于查找的，含有各种匹配字符串和匹配元字符的字符串。</div><div>eg：</div><div>var p=‘sduweuui200dwnw’；</div><div>字符串---/200/---精确匹配</div><div>元字符---/\d/---松散匹配</div><div>正则里的通配符：一个通通匹配的字符</div><div><b><span style="color: rgb(227, 0, 0);"><span style="font-size: 21px;">2.正则表达式对象</span></span></b></div><div>由 正则表达式创建的<b><span style="color: rgb(227, 0, 0);">对象</span></b>, 该对象可以进行 匹配, 提取 和 替换。</div><div>正则表达式的创建：</div><div>1）<b><span style="color: rgb(235, 0, 115);">构造函数</span></b>方法创建</div><div>     语法：</div><div>     var regex=new RegExp（正则表达式字符串，匹配模式）；</div><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div>var regex1 = new RegExp( 'abc' );</div></div><div>注意：new创建方式括号里要写字符串（元字符也要用字符串包裹）；</div><div>创建的时候可以拼接变量；</div><div>eg：</div><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div>var p=123；</div><div>var regex1 = new RegExp( ‘\d ’+p );---&gt;/d123/</div></div><div><br/></div><div>2）<span style="color: rgb(235, 0, 115);"><b>字面量</b></span>方法创建---一般使用这种方法</div><div>     语法：</div><div>     var regex=/正则表达式/；</div><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div>var regex2 = /abc/;</div></div><div>注意：字面量创建，不需要字符串包裹；</div><div>3.使用正则表达式进行匹配</div><div>语法：</div><div>     正则对象.test( 字符串 ) ；</div><div>     返回布尔值--&gt;true/false</div><div>             括号内的字符串是否包含这个正则对象的字符串片段，有就返回 true,否则返回 false。</div><div>4.元字符：</div><div>1&gt; <b>.</b>        表示<span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">任一个</span>非换行的字符----没有任何限制---不换行即可</div><div>        案例: foot    _ 是 food, foot    写成 foo.</div><div>2&gt; ()----表示分组和提高优先级</div><div>3&gt; []----表示出现在 [] 中的任一个字符----认为是 . 的限制级版本</div><div>        用法: [abc]    匹配出现 [] 中的任意<span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">一个字符</span></div><div>        （匹配 a, 或 b, 或 c ）</div><div>        foo[dt]（三号位置的字符匹配d或t）</div><div>4&gt; |----或（优先级最低）---<b>占位或</b></div><div><b>     </b> 可以认为是 允许使用<span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">多个字符</span>的 匹配---（）则是括号内的一个字符</div><div>        用法:    正则表达式|正则表达式</div><div>        a|b|c----匹配a或b或c</div><div>        aa|bb|cc----匹配aa或bb或cc</div><div>        foot 或 food</div><div>        foot|food</div><div>        foo(t|d)</div><div>5&gt;</div><div> 转义字符: \----&gt;将后面紧跟的一个元字符从有意义变成无意义</div><div>                  表示点:   \.</div><div>                  表示[]:   \[  \]</div><div>                  表示():      \(  \)</div><div>                  表示\ :   \\</div><div><br/></div><div>5. 限定元字符（量词元字符）</div><div><br/></div><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div> *      ba*  b   ba  baa  baaa ...   0到多次(&gt;=0)</div><div> +      ba+  ba  baa  baaa ...       1到多次（至少一次）(&gt;=1)</div><div> ?      ba?  b  ba                   0到1次(有没有)</div><div> {2}    ba{2}  baa                   必须2次</div><div> {2,}   ba{2,} baa  baaa ...         2到多次（至少两次）</div><div> {2,3}  ba{2,3} baa baaa             2到3次</div></div><div><br/></div><div>6.首尾正则表达式</div><div><br/></div><div><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">^        表示必须以 xxx 开头----写在[]里面表示取反----&gt;[^abc]</span></div><div>            ^a        必须以 a 开头的字符串</div><div>            a         表示一个字符串中只要含有 a 就可以匹配</div><div><br/></div><div>            ^a^a    非法的写法, ^ 如果是表示开头必须写在开头, 而且<span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">只能写一个</span></div><div><br/></div><div><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">$        表示 必须以 xxx 结尾</span></div><div>            a$        必须以 a 结尾</div><div><br/></div><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div>    var reg = /^chuan+$/;</div><div>    console.log( reg.test( 'chuanchuan' ) );//false</div></div><div><br/></div><div>7.简写元字符---大写都表示‘非’含义</div><div>    \s       空白字符, 包括空格, tab, 回车换行等</div><div>    \S      非空白字符 </div><div>    js 中常常使用 [\s\S] 表示任意字符         </div><div>    \w     表示单词字符, 包含字母, 数字, 下划线.</div><div>    \W    非单词字符</div><div>    \d     数字字符                    </div><div>    \b     单词边界字符-border</div><div>    \B     非单词边界字符</div><div>     \t     tab字符</div><div>8. 整数</div><div>   \d+     非 0 开头     -?[123456789]\d*|0</div><div>9.案例：</div><div><b><span style="color: rgb(235, 0, 115);">匹配邮箱</span></b></div><div>名字@主机名</div><div style="box-sizing: border-box; padding: 8px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">var r = /^[0-9a-zA-Z]+@[0-9a-zA-Z]+(\.[0-9a-zA-Z]+)+$/;</span></span></span></div></div><div><span style="color: rgb(235, 0, 115);"><b>匹配数字  </b></span></div><div><b><span style="color: rgb(235, 0, 115);">1）任意整数</span></b></div><div><br/></div><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div>var r=/^([1-9][0-9]*|0)$/</div></div><div><br/></div><div>2）0-255任意数</div><div><br/></div><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div>var r = /^([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])$/;</div></div><div><br/></div><div>3)匹配小数或整数</div><div><br/></div><div style="box-sizing: border-box; padding: 8px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">var r = /^((-?[1-9][0-9]*|0)(\.[0-9]*[1-9])?)$/;</span></span></span></div></div><div><br/></div><div>10.提取（捕获）</div><div>概念：找到字符串中，符合正则表达式条件的字符串片段，把这个片段包裹成一个<b><span style="color: rgb(227, 0, 0);">数组</span></b>返回。</div><div>语法:</div><div>       正则表达式对象.exec( 字符串 ) -&gt; 封装成<span style="font-size: 15px;"><span style="color: rgb(227, 0, 0);"><b>数组</b></span></span></div><div>缺点：</div><div>        懒惰性：如果不进行任何操作，那么每次提取的时候都是从字符串的第0项开始，从左到右的查找，找到一个后就返回，不再查找---获取相同数组</div><div>---&gt;为什么<span style="font-size: 15px;"><span style="color: rgb(227, 0, 0);"><b>返回数组</b></span></span>？--为了记录分组数据</div><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div>// 案例： 在 'abc123def456ghij789klum' 提取数字</div><div><br/></div><div>    var str = 'abc123def456ghij789klum';</div><div>    // 要提取数字, 但是没有规定数字是什么. 可以使用 \d+ 表示数字</div><div>    var r = /\d+/;</div><div><br/></div><div>    var result = r.exec( str );</div><div>    console.log(result);//只获取到123</div></div><div><br/></div><div>11.循环提取</div><div>如果全部查找完毕，再次查找会回到字符串的起始处。---循环</div><div>目的：将一个字符串中符合要求的所有字符串提取出来。</div><div>---&gt;解决懒惰性：开启全局模式---&gt;开启之后每次找到片段，就停留在片段结尾的下一个，下次提取，从这个位置开始。</div><div>---&gt;不开启全局模式，每次都从字符串的0项开始，获取的是相同的数组。</div><div>操作方法：1）开启全局模式：</div><div>               var r = new RegExp( '正则', 'g' );</div><div>               var r = /正则/g;</div><div>                2）调用exec获得匹配项，调用一次获得一个匹配项，调用几次获得几个，一直调用下去, 就可以得到所有的匹配项 。</div><div>                直到最后全部匹配完, 如果还用该方法, 则返回 null，再次调用回到字符串的0项继续查找。</div><div>同上例：</div><div>                </div><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div>                var str = 'abc123def456ghij789klum';</div><div>                // 1&gt; 全局模式</div><div>                var r = /\d+/g;</div><div>                // 2&gt; 调用exec获得匹配项</div><div>                var res;</div><div>                console.log(r.exec( str ));//123</div><div>                console.log(r.exec( str ));//456</div><div>                console.log(r.exec( str ));//789---&gt;查找完毕</div><div>                console.log(r.exec( str ));//null---&gt;完毕后返回null</div><div>                console.log(r.exec( str ));//123</div><div>                console.log(r.exec( str ));//456</div><div>                //or 采用while循环：</div><div>                while ( res = r.exec( str ) ) {</div><div>                  console.log( res );//返回null不打印输出</div><div>                }</div></div><div> </div><div>12.提取某一部分的内容</div><div>        不管写的括号是干什么用的，只要正则表达式中出现了括号，在提取的时候就会把它当成一个小分组。</div><div>所以，你想提取哪部分内容，就把哪部分内容包上括号即可。</div><div>         这些小分组的编号是从圆括号左边开始从1计算，第0项是正则表达式所捕获到的内容，从1项开始是捕获到的小分组的内容。</div><div>例如：截取HTML标签，截取标邮箱主机名和名字 </div><div>13. 匹配但是不去捕获的元字符</div><div>    (?:其他正则表达式内容)</div><div><br/></div><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div>var r = /([a-zA-Z\d]+)@([a-zA-Z\d]+(?:\.[a-zA-Z\d]+)+)/g;</div><div>          1             2          3---这里匹配不捕获</div></div><div><br/></div><div>注意：当写了：？以后，在后面的代码中，数圆括号的时候就不要把它所在的括号算进去了；</div><div>          选择使用：？ 与否，对于整片代码来说，影响不是很大---可以节省内存</div><div>14.截取一个字符串中的HTML标签：</div><div>    1&gt; 要截取 html 标签, 标签使用 &lt;&gt;. 因此正则表达式写成 &lt;\w+&gt;</div><div>    2&gt; 与之匹配的标签名是什么?</div><div>        如果在一个正则表达式中使用组匹配到某一个数据, 允许在该正则表达式中使用</div><div>        '\数字' 的方式引用该组</div><div>        &lt;(\w+)&gt;.*&lt;\/<b><span style="color: rgb(227, 0, 0);">\</span><span style="color: rgb(65, 173, 28);">1</span></b>&gt;---(\w+)是第一分组</div><div>反向引用：</div><div><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">正则表达式</span>中，后面要写和前面一样的东西，把前面那个要引用的内容<span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">加上括号</span>，后面直接使用‘<b><span style="color: rgb(227, 0, 0);">\</span><span style="color: rgb(65, 173, 28);">分组的序号‘。</span></b></div><div>15.贪婪模式：</div><div>凡是在正则表达式中, 涉及到次数限定的, 一般默认都是尽可能的多匹配.</div><div><br/></div><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div>    var str = '123&lt;div&gt;456&lt;/div&gt;78&lt;div&gt;9&lt;/div&gt;0&lt;i&gt;&lt;/i&gt;abc';</div><div>    var r = /&lt;(\w+)&gt;.*&lt;\/\1&gt;/g;//-----&gt;取消贪婪模式：var r = /&lt;(\w+)&gt;.*?&lt;\/\1&gt;/g;</div><div><br/></div><div>    var res;</div><div><br/></div><div>    while ( res = r.exec(str) ) {</div><div><br/></div><div>        console.log( res[ 0 ] );//匹配到两个&lt;div&gt;---贪婪模式</div><div><br/></div><div>    }</div></div><div><br/></div><div>---&gt;取消贪婪模式：</div><div>     在次数限定符后面加上‘？ ’</div><div>     注意：贪婪模式性能略高于非贪婪模式，开发时一般不考虑贪婪的问题；</div><div>               只有代码匹配结果出现问题了才会取消贪婪模式。</div><div>---&gt;多个贪婪在一起时的情况：</div><div><br/></div><div>   <b><span style="color: rgb(26, 144, 185);">   1） \d+\d+\d+</span></b></div><div>      当同样的元字符+量词的时候，最左边的强度最大，其他捕获的字符给后面的元字符一样剩一个；</div><div style="box-sizing: border-box; padding: 8px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">var str='123456';</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">var r=/(\d+)(\d+)(\d+)/;</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">[&quot;123456&quot;, &quot;1234&quot;, &quot;5&quot;, &quot;6&quot;, index: 0, input: &quot;123456&quot;]</span></span></span></div></div><div>    <span style="color: rgb(26, 144, 185);"><b> </b></span></div><div><span style="color: rgb(26, 144, 185);"><b>      2）\d+？\d+\d+</b></span></div><div>      如果最左边的取消了贪婪模式以后，那么就是最挨着左边的一个没有取消贪婪模式的强度最大。</div><div style="box-sizing: border-box; padding: 8px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">var str='123456';</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">var r=/(\d+?)(\d+)(\d+)/;</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">[&quot;123456&quot;, &quot;1&quot;, &quot;2345&quot;, &quot;6&quot;, index: 0, input: &quot;123456&quot;]</span></span></span> </div></div><div><br/></div><div>16.否定元字符：</div><div>语法：</div><div>      [^字符]---不为这些字符的字符    </div><div>eg：[^abc]---不是 a 也不是 b 也不是 c 的字符        </div><div>17.字符串的替换：</div><div>语法:</div><div>        <span style="color: rgb(65, 173, 28);"><b>字符串.replace( 查找字符串, 替换字符串 ) -&gt; 字符串</b></span></div><div>    1&gt; 字符串替换方法</div><div>        字符串1.replace( 字符串2, 字符串3 )</div><div>        在 字符串1 中找到 字符串2, 将其替换成 字符串3, <span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">返回替换后的字符串</span></div><div>        特点: 只替换第一个找到的字符串</div><div><br/></div><div>        &quot;aaa&quot;.replace( 'a', 'A' ) -&gt; 'Aaa'</div><div><br/></div><div>   2&gt; 正则替换</div><div>          ---把正则表达式中匹配到的内容替换成新的字符串</div><div>        字符串.replace( 正则表达式, 字符串 ) -&gt; 字符串</div><div>        a. 简单替换</div><div>            'aaaaa-------bbbbbb------ccccc'.replace( /-+/, '-' ) ----&gt;只替换第一个</div><div>            'aaaaa-------bbbbbb------ccccc'.replace( /-+/g, '-' )---&gt;全部替换</div><div><img src="第七天 正则表达式_files/Image.png" type="image/png" style="height: auto;"/></div><div>      b. 分组替换---就是把要替换掉的东西引用过来和其他东西拼接起来把旧字符串中捕获的内容替换成新的东西</div><div>            可以在替换字符串中, 使用 $数字来引用替换的数据---相当于拼接字符串</div><div><img src="第七天 正则表达式_files/Image [1].png" type="image/png" style="height: auto;"/></div><div>        </div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, 'Courier New', monospace; font-size: 12px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="color: rgb(51, 51, 51);">console.log('1991-1-19'.replace(/(\d+)-(\d+)-(\d+)/, '$1年$2月$3日'));//---1991年1月1日</span></div></div><div>    注： 1代表捕获到的第一组，2，3同理</div><div><br/></div><div>      c.函数参数替换</div><div>          语法:</div><div>             字符串.replace( 正则表达式, fn ) ；</div><div>           作用：</div><div>          用fn的返回值来替代正则表达式捕获到的东西，若正则表达式开启了全局，那么就都替换，如果没开就只替换一个。</div><div>          ----&gt;关于fn中的形参：</div><div>          第一个形参是正则表达式捕获到的内容；第二个形参依次是小分组匹配到的内容。</div><div><br/></div><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div>var r='我的邮箱是:abc@itcast.cn, 你的邮箱是: defghijk@itcast.cn'</div><div>        .replace(/\w+@\w+(\.\w+)+/, '*');</div><div>console.log(r);//我的邮箱是：*，你的邮箱是：*<br/></div></div><div><br/></div><div><br/></div><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div>var r1='我的邮箱是:abc@itcast.cn, 你的邮箱是: def@itcast.cn'</div><div>.replace(/(\w+)@(\w+(\.\w+)+)/g, function (s, g1, g2, g3) {</div><div>return '*';//用*将捕获到的数组替换掉</div><div>});</div><div>console.log(r1);//我的邮箱是：*，你的邮箱是：*</div></div><div><span style="color: rgb(248, 248, 242);"><br/></span></div><div> </div><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div>var r2='我的邮箱是:abc@itcast.cn, 你的邮箱是: defghijklim@itcast.cn'</div><div>        .replace(/(\w+)@(\w+(\.\w+)+)/g, function (s, g1, g2, g3) {</div><div><br/></div><div>            // 将用户名 变成 a***** 的形式</div><div>            var first = g1.charAt(0);</div><div>            var start = [];</div><div>            for (var i = 0; i &lt; g1.length - 1; i++) {</div><div>                start.push('*');</div><div>            }</div><div><br/></div><div>            return first + start.join('') + '@' + g2;</div><div><br/></div><div>        });</div><div>console.log(r2);//我的邮箱是:a**@itcast.cn, 你的邮箱是: d**********@itcast.cn<br/></div></div><div><br/></div><div>          </div><div><img src="第七天 正则表达式_files/Image [2].png" type="image/png" style="height: auto;"/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div></span>
</div></body></html> 