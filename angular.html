<html>
<head>
  <title>angular</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/303788 (zh-CN, DDL); Windows/6.2.9200 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="1124"/>
<h1>angular</h1>

<div>
<span><div>库---提供方法，我们去调用（jQuery---js函数库）</div><div>框架---提供结构或模式，按照模式或结构书写代码，框架完成剩下的事情（angular---js框架）</div><div><br/></div><div>          ng-开头的属性称为指令</div><div>          ng-app :一个页面只能有一个，设置angular的控制范围,管理ng-app所在元素的子元素及其本身</div><div>                        ---会帮助angular创建一个对象</div><div>                        ---相当于一个入口</div><div>          ng-model:获取表单元素的值---可以指定一个属性值，这个属性就表示当前文本框的value值</div><div>          ng-click：注册点击事件</div><div>          ng-dbclick---双击事件</div><div>           {{}}：实现单向数据绑定  </div><div>          ng-init:初始化数据</div><div>          ng-submit---表单提交时触发函数</div><div>          ng-change---输入框内数据发生变化时触发里面的函数</div><div>     写入--存储--读取                          </div><div><br/></div><div>angularJS核心特性：</div><ul><li>MVC-----只是一种思想</li></ul><div>          model：存取数据--前端一般使用数据模型对象</div><div>          view：呈现数据---即html</div><div>          controller：控制和调度操作，可以添加或修改属性，实现view和model的交互---即js函数</div><ul><li>module---模块化</li><li>指令系统</li><li>双向数据绑定</li></ul><div>          </div><div>          单向数据绑定：{{ }}</div><div>          只能从数据模型到输入域</div><div>          双向数据绑定：np-model</div><div>          数据模型到输入域，输入域到数据模型数据双向流动，相互影响</div><div><br/></div><div>  <b> 1. 创建和获取模块：angular.module(参数一，参数二·);      </b></div><div>//参数一：模块的名字</div><div>//参数二：在当前模块需要依赖其他模块的时候，就指定第二个参数为数组，不依赖也要传空数组，若不传空数组，就指的是获取相关模块</div><div><br/></div><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div>angular.module('house',['window','stack']);</div><div>// 如果窗户不依赖于其他模块，也必需传入一个空数组.</div><div>// 如果不传递和二个参数，就会变成获取窗户模块</div><div>angular.module('window',[]);</div><div>var tmp = angular.module('window');</div><div>console.log(tmp);</div><div>angular.module('stack',[]);</div></div><div>需要在ng-app指令的属性值上写模块名</div><div><br/></div><div>  <b>  2. 创建控制器:</b></div><div><b> 模块.controller(“控制器名”, function ($scope) {</b></div><div><b>    $scope.testName=&quot;aaaa&quot;;</b></div><div><b>});</b></div><div>//控制器实现了对显示模块内部的控制，外部的控制不了</div><div>//要改变{{testName}}的值，就直接改变$scope.testName的值即可</div><div>//要显示数据模型（$scope.属性）的值，就要在它要显示的所在标签或父标签上加ng-controller，他的值就是数据模型所在控制器的名字</div><div>$scope（作用域）：</div><div>//$scope在创建控制器时当做参数传递</div><div>//angular会根据形参的名字传递参数，替换成别的形参名没有效果</div><div>//$scope是一个js对象（凡是以$开头的都是对象），$scope用来挂载需要改变的属性和方法，他是html视图和控制器之间的纽带</div><div>//用来暴露数据模型</div><div><br/></div><div><b>使用angular进行dom操作：</b></div><div>angular---不推崇dom操作</div><div>angular.element----使用方式类似jQuery，也可以进行dom操作,当做jQuery中的$</div><div>                         ----传入原生dom对象，不是选择器</div><div>                         ----可以使用部分jQuery方法，有些是不支持的</div><div><br/></div><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div>angular.element（document）.ready（）;</div><div>angular.element（document.getelementbyid('div')<br/></div></div><div><br/></div><div><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;"> 回顾并总结Angular开发流程</span></div><div><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">- 1.在html中引入angular.js文件</span></div><div><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">- 2.在html中加上ng-app指令，告诉angular要管理页面哪一部分代码</span></div><div><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">- 3.在js中创建模块`angular.module('myApp',[])`,给ng-app指令一个值，</span></div><div><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">- 这个值就是这个模块的模块名:myApp</span></div><div><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">- 4.在js中创建控制器`xxx.controller('控制器名字',function($scope){})`,我们需要在页面上加上ng-controller指令，指令的值为控制器的名字</span></div><div><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">  `ng-controller=&quot;控制器名字&quot;`</span></div><div><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">- 5.建模:根据页面结构，抽象出具体的js对象.</span></div><div><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">- 6.通过$scope做一些初始化操作`$scope.username=&quot;小明&quot;`</span></div><div><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">- 7.通过`ng-model , ng-click , {{}}` 把$scope的属性在页面展示出来</span></div><div><span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">- 8.在js写一些具体的逻辑</span></div><div><br/></div><div>angular既可以看成MVC或者MVVM</div><div>MVVM:VM----viewmodel（视图模型）,就是$scope</div><div><br/></div><div><br/></div><div><b>创建控制器的方式：</b></div><div>1.传统方式---压缩代码后 代码无法运行</div><div>2.安全方式---避免代码压缩后无法运行的问题</div><div><br/></div><div> app.controller('demoController',['$scope','$log','$location',function($scope,$log,$location){</div><div>      $scope.msg = 'hello World!'</div><div>      $log.log('哈哈哈哈！')</div><div>    }])</div><ul><li> // 把第二个参数改为一个数组,在数组把我们需要的参数的名字写上</li><li>    // 回调函数就写在数组的最后一个元素上</li><li>    // *注意*：数据中传入的元素的顺序,要和function的中顺序一一对应</li><li>$location显示当前的锚点</li></ul><div><br/></div><div><b>页面加载之后表达式内容的闪烁问题：</b></div><div>先加载html文档，再加载angular文件</div><div>----解决方法：</div><ul><li>把angular.Js引用放在文档前面</li><li>使用ng-bind指令</li></ul><div>          ----原理：HTML标签不会闪烁，想办法把数据绑定放在标签的属性位置，浏览器不会渲染标签的属性</div><div>          ----只能在双标签中使用，单标签不可以</div><div style="background-color:#272822;color:#f8f8f2;font-family:'Consolas';font-size:12.0pt;"><span style="color:#736f5c;">&lt;!-- </span><span style="color:#736f5c;font-family:'宋体';">使用</span><span style="color:#736f5c;">ng-bind</span><span style="color:#736f5c;font-family:'宋体';">指令，作用与表达式类似</span><span style="color:#736f5c;">,</span><span style="color:#736f5c;font-family:'宋体';">是写在标签的属性位置</span><span style="color:#736f5c;">,<br/></span><span style="color:#736f5c;">     angular</span><span style="color:#736f5c;font-family:'宋体';">会把</span><span style="color:#736f5c;">ng-bind</span><span style="color:#736f5c;font-family:'宋体';">对应的值放到所在标签中间 </span><span style="color:#736f5c;">--&gt;</span></div><div style="background-color:#272822;color:#f8f8f2;font-family:'Consolas';font-size:12.0pt;"><span style="color:#f7f7f1;">&lt;</span><span style="color:#f72671;">p </span><span style="color:#a6e22e;">ng-bind=</span><span style="color:#ffe792;">&quot;</span><span style="color:#6ccab8;font-weight:bold;">msg</span><span style="color:#ffe792;">&quot;</span><span style="color:#f7f7f1;">&gt; &lt;/</span><span style="color:#f72671;">p</span><span style="color:#f7f7f1;">&gt;</span></div><ul><li>使用ng-cloak----通过样式设置</li></ul><div>      `&lt;div class=&quot;ng-cloak&quot;&gt;&lt;p&gt;{{msg}}&lt;/p&gt;&lt;/div&gt;` 先隐藏后显示</div><div>       在等到angular解析到带有ng-cloak节点的时候，会把元素上ng-cloak  attribute和calss同时remove掉，ng-cloak对应的样式就不生效了，这样就防止了节点的闪烁。使用时需要先给ng-cloak设置display:none;</div><div><b>数据渲染问题：---不需要拼接字符串</b></div><div>     ng-repeat</div><div>- 能够把一组数据直接渲染到页面上，不需要我们拼接字符串</div><div>- 我们希望重复的是哪个元素就把ng-repeat指令加在哪个元素上，不一定是li上</div><div>- ng-repeat=&quot;item in users&quot; , item对应是遍历users时的第一条数据，users是我们</div><div>- 要遍历的数据(是一个数组)</div><div>     </div><div>ng-repeat 在遍历时会提供以下值:                                                   </div><div>    + $odd : 为true时，表明当前数据是否是第[奇]数条</div><div>    + $even: 为true时，表明当前数据是否是第[偶]数条</div><div>    + $first: 为true时，表明当前数据是否是第1条</div><div>    + $last: 为true时，表明当前数据是否是最后一条</div><div>    + $middle: 为true时，表明当前数据是否是中间的数据</div><div><br/></div><div>ng-class</div><div>- ng-class 可以帮助我们控制元素的class样式，元素样式使用对象的形式，不需要自己去判断条件是否满足才添加某种样式，自动判断</div><div style="background-color:#272822;color:#f8f8f2;font-family:'Consolas';font-size:12.0pt;"><span style="color:#f7f7f1;">&lt;</span><span style="color:#f72671;">li </span><span style="color:#a6e22e;">ng-class=</span><span style="color:#ffe792;">&quot;{</span><span style="color:#6ccab8;font-weight:bold;">red</span><span style="color:#ffe792;">:</span><span style="color:#6ccab8;">item</span><span style="color:#ffe792;">.</span><span style="color:#6ccab8;font-weight:bold;">age</span><span style="color:#ffe792;">&gt;=20, </span><span style="color:#6ccab8;font-weight:bold;">green</span><span style="color:#ffe792;">:</span><span style="color:#6ccab8;">item</span><span style="color:#ffe792;">.</span><span style="color:#6ccab8;font-weight:bold;">age</span><span style="color:#ffe792;">&gt;=10&amp;&amp;</span><span style="color:#6ccab8;">item</span><span style="color:#ffe792;">.</span><span style="color:#6ccab8;font-weight:bold;">age</span><span style="color:#ffe792;">&lt;20,</span><span style="color:#6ccab8;font-weight:bold;">blue</span><span style="color:#ffe792;">:</span><span style="color:#6ccab8;">item</span><span style="color:#ffe792;">.</span><span style="color:#6ccab8;font-weight:bold;">age</span><span style="color:#ffe792;">&lt;10}&quot; </span><span style="color:#a6e22e;">ng-repeat=</span><span style="color:#ffe792;">&quot;</span><span style="color:#6ccab8;font-weight:bold;">item</span><span style="color:#ffe792;"> in </span><span style="color:#6ccab8;">data</span><span style="color:#ffe792;">&quot;</span><span style="color:#f7f7f1;">&gt;<br/></span><span style="color:#f7f7f1;">   </span> {{<span style="color:#6ccab8;font-weight:bold;">item</span>.<span style="color:#6ccab8;">name</span>}},{{<span style="color:#6ccab8;font-weight:bold;">item</span>.<span style="color:#6ccab8;font-weight:bold;">age</span>}}<br/><span style="color:#f7f7f1;">&lt;/</span><span style="color:#f72671;">li</span><span style="color:#f7f7f1;">&gt;</span></div><div>ng-class 可以独立在其他元素上使用，并非一定要和ng-repeat结合</div><div>ng-show/ng-hide-----控制元素的display:none/block</div><div>ng-if----true/false---true显示,false<span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">移除</span></div><div>ng-switch---- 当ng-switch-when 对应的值等于ng-switch对应值时，当前dom元素就显示，剩下的那个移除</div><div><br/></div><div><b> 创建自定义指令</b></div><div>- *注意: 名字要符合驼峰合法*</div><div><br/></div><div>javascript</div><div>    // 1.创建模块对象</div><div>    var app = angular.module('directiveApp', [])</div><div><br/></div><div>    // 2.创建自定义指令</div><div>    // 第一个参数：是指令的名字,必须是驼峰命名法（小写也可以，只不过使用的时候不用遵循以下规则）</div><div>    //             使用时把大写改成小写，在原来大写前加上-</div><div>    // 第二个参数：和控制器的第二个参数类似!</div><div>    app.directive('myBtn', [function(){</div><div>      // 在这里直接return 一个对象就可以了</div><div>      return {</div><div>    <b> 自定义指令的返回值：</b></div><ol><li>        // template属性，是封装的ui</li></ol><ul><li>template----模板中字符串较短的时候使用</li></ul><div>          ‘&lt;div&gt;&lt;button&gt;我是按钮&lt;/button&gt;&lt;/div&gt;'----模板里的内容要有根元素</div><ul><li>templateUrl---模板中字符串较长的时候使用</li></ul><div>          templateUrl:'./01.template.html'</div><div>          templateUrl:'tpl',---模板的id</div><div>     </div><ol start="2"><li>restrict: 也是需要提供一个字符串，限制自定义指令的使用形式</li></ol><div>         A : Attribute 表示只能以属性的形式使用</div><div>         C : Class     表示只能以类样式名的形式使用</div><div>         E : Element   表示只能以自定义标签的形式使用</div><div>         M：注释形式使用</div><div>         ACE : 如果希望多种方 式合适，就把对应值组合在一起。</div><div>     </div><ol start="3"><li>replace:true/false</li></ol><div>        表示模板是否替换自定义指令</div><div>        ---true时，模板会被用来替换自定义指令所在标签，false则插入到标签的里面</div><div>     4.transclude: 需要一个布尔值, 为true时会将自定义标签中的内容插入到模板中，</div><div>        * 拥有ng-transclude 指令的标签中间</div><div>        *必须和ng-transclude同时出现使用</div><div>     5.scope：需要一个对象: 可以<span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">用来获取自定义指令的属性值,</span> （必须是自定义指令，预定义不可以）</div><div>    -  给当前对象添加一个属性(如:tmp),属性值以@开头，后面跟上自定义指令的属性名</div><div>       然后就可以在模板中使用{{tmp}} 来得到对应的属性值-------<span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">-用于获取自定义指令里的某属性，之后可以在自己写的模板里使用这个属性，只不过在自定义标签是小写外加-，在模板里是驼峰形式</span></div><div>       + `scope: { tmp:'@mystyle'}`  {{tmp}}</div><div>       + `scope: { mystyle:'@'}`     {{mystyle}}---推荐使用第二种形式</div><ol start="6"><li> - link: 需要一个function ，function在angular解析到相应指令时就会执行一次,</li></ol><div>         + scope      ：类似于$scope,只不过scope的属性只能在模板中使用</div><div>         + element    : 自定义指令所在标签对应的对象(jqLite)---repalce 为true，element指向模板最外层的标签对应的对象，默认指向自定义指令的最外层标签对应的对象</div><div>         + attributes : 包含了自定义指令所在标签的必有属性</div><div>     </div><div>    }])</div><div><b>$scope.$watch方法：</b></div><div>     $scope.$watch可以监视数据模型中数据的变化（只能监视$scope的某个属性，不是下面定义的某个方法，要监视$scope下的方法的话，这个方法必须返回$scope的属性---实质上也是监视$scope的属性），传入的参数发生变化，会去调用回调函数</div><div>           </div><div style="box-sizing: border-box; padding: 8px; border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902);"><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">             var app=angular.module('hello',[]);</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">            app.controller('hiController',['$scope',function($scope){</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">            $scope.name = '小明'</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">            $scope.age = 18</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">            $scope.$watch('name',function(now,old){</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">                console.log(now,old);</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);"><br/></span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">             })</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);"><br/></span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">            $scope.tmp=function(){</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">                return $scope.name;</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">            }</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">             $scope.$watch('tmp()',function(now,old){</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">                console.log(now,old);</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);"><br/></span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">            })</span></span></span></div><div><span style="font-size: 12px;"><span style="font-family: Monaco, Menlo, Consolas, 'Courier New', monospace;"><span style="color: rgb(51, 51, 51);">      }])</span></span></span></div></div><div><b>$scope中的服务：</b></div><div><span style="color: rgb(51, 51, 51); font-family: &quot;Microsoft Yahei&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 13px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); display: inline !important; float: none;">在 AngularJS 中，服务是一个函数或对象，可在你的 AngularJS 应用中使用。</span></div><div>使用方法：将服务名当做参数引入到controller的回调函数中，之后在controller的回调函数中定义使用</div><div><b>1.内建服务：</b></div><div><b>$location---返回当前页面的url地址</b></div><div><br/></div><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div>var app = angular.module('myApp', []);</div><div>app.controller('customersCtrl', function($scope, $location) {</div><div>    $scope.myUrl = $location.absUrl();</div><div>});</div></div><div><br/></div><div><b>$http---用于向服务器发送请求</b></div><div><br/></div><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div>var app = angular.module('myApp', []);</div><div>app.controller('myCtrl', function($scope, $http) {</div><div>    $http.get(&quot;welcome.htm&quot;).then(function (response) {</div><div>        $scope.myWelcome = response.data;</div><div>    });</div><div>});</div></div><div><br/></div><div><b>$interval---</b> <span style="color: rgb(51, 51, 51); font-family: &quot;Microsoft Yahei&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 13px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); display: inline !important; float: none;">对应了 JS </span><b style="color: rgb(51, 51, 51); font-family: &quot;Microsoft Yahei&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 13px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">window.setInterval</b><span style="color: rgb(51, 51, 51); font-family: &quot;Microsoft Yahei&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 13px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); display: inline !important; float: none;"> 函数</span></div><div><br/></div><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div>var app = angular.module('myApp', []);</div><div>app.controller('myCtrl', function($scope, $interval) {</div><div>    $scope.theTime = new Date().toLocaleTimeString();</div><div>    $interval(function () {</div><div>        $scope.theTime = new Date().toLocaleTimeString();</div><div>    }, 1000);</div><div>});</div></div><div><br/></div><div><span style="font-family: 'Microsoft Yahei', 'Helvetica Neue', Helvetica, Arial, sans-serif;"><span style="background-color: rgb(255, 255, 255);"><span style="color: rgb(51, 51, 51);"><br/></span></span></span></div><div><b>$timeout----</b> <span style="color: rgb(51, 51, 51); font-family: &quot;Microsoft Yahei&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 13px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); display: inline !important; float: none;">对应了 JS </span><b style="color: rgb(51, 51, 51); font-family: &quot;Microsoft Yahei&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 13px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255);">window.setTimeout</b><span style="color: rgb(51, 51, 51); font-family: &quot;Microsoft Yahei&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif; font-size: 13px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); display: inline !important; float: none;"> 函数</span></div><div><br/></div><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div>var app = angular.module('myApp', []);</div><div>app.controller('myCtrl', function($scope, $timeout) {</div><div>    $scope.myHeader = &quot;Hello World!&quot;;</div><div>    $timeout(function () {</div><div>        $scope.myHeader = &quot;How are you today?&quot;;</div><div>    }, 2000);</div><div>});</div></div><div><br/></div><div><b><br/></b></div><div><b>$scope自定义服务---service</b></div><div>--------实质上就是通过一个构造函数，创建一个实例，我们在别的模块上引用这个对象上面的方法</div><div> 1.创建服务模块</div><div><br/></div><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div>  var app = angular.module('service',[])</div></div><div><br/></div><div>2.创建服务</div><div><br/></div><div> 第一个参数：服务的名字</div><div> 第二个参数里的function:</div><div>angular会把这个function当作构造函数，之后实例化这个构造函数，然后得到一个对象Myservice,可以在这个对象的构造函数上定义一系列方法，之后就可以在js文件中使用这个service对象上面的方法，避免了多次重复定义同一种方法造成的代码冗余 </div><div><br/></div><div style="-en-codeblock: true; box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-top-left-radius: 4px; border-top-right-radius: 4px; border-bottom-right-radius: 4px; border-bottom-left-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.14902); background-position: initial initial; background-repeat: initial initial;"><div>  app.service('MySe ）</div></div><ul><li>在前台页面上定义一个回调函数--jsonpCallback</li><li>在页面上动态生成一个script标签   var scrp = document.createElement('script')</li></ul><div>          然后设置其src属性，并指向跨域的文件</div><ul><li>后台根据前台发送来的请求，获取相应的数据，并且保存在名为data的变量中</li></ul><div>          
<p style="margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important; clear: both; min-height: 1em; color: rgb(62, 62, 62); font-family: -apple-system-font, &quot;Helvetica Neue&quot;, &quot;PingFang SC&quot;, &quot;Hiragino Sans GB&quot;, &quot;Microsoft YaHei&quot;, sans-serif; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important; font-size: 12px;"><span style="margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important; border-width: 0px; border-style: initial; border-color: initial; font-family: inherit; height: inherit; font-size: inherit !important; font-weight: inherit !important; color: rgb(0, 111, 224) !important;"> </span><span style="margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important; border-width: 0px; border-style: initial; border-color: initial; font-family: inherit; height: inherit; font-size: inherit !important; font-weight: inherit !important; color: rgb(0, 45, 122) !important;">console</span><span style="margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important; border-width: 0px; border-style: initial; border-color: initial; font-family: inherit; height: inherit; font-size: inherit !important; font-weight: inherit !important; color: rgb(51, 51, 51) !important;">.</span><span style="margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important; border-width: 0px; border-style: initial; border-color: initial; font-family: inherit; height: inherit; font-size: inherit !important; font-weight: inherit !important; color: teal !important;">log</span><span style="margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important; border-width: 0px; border-style: initial; border-color: initial; font-family: inherit; height: inherit; font-size: inherit !important; font-weight: inherit !important; color: rgb(51, 51, 51) !important;">(</span><span style="margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important; border-width: 0px; border-style: initial; border-color: initial; font-family: inherit; height: inherit; font-size: inherit !important; font-weight: inherit !important; color: rgb(221, 17, 68) !important;">&quot;server accept: &quot;</span><span style="margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important; border-width: 0px; border-style: initial; border-color: initial; font-family: inherit; height: inherit; font-size: inherit !important; font-weight: inherit !important; color: rgb(51, 51, 51) !important;">,</span><span style="margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important; border-width: 0px; border-style: initial; border-color: initial; font-family: inherit; height: inherit; font-size: inherit !important; font-weight: inherit !important; color: rgb(0, 111, 224) !important;"> </span><span style="margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important; border-width: 0px; border-style: initial; border-color: initial; font-family: inherit; height: inherit; font-size: inherit !important; font-weight: inherit !important; color: rgb(0, 45, 122) !important;">req</span><span style="margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important; border-width: 0px; border-style: initial; border-color: initial; font-family: inherit; height: inherit; font-size: inherit !important; font-weight: inherit !important; color: rgb(51, 51, 51) !important;">.</span><span style="margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important; border-width: 0px; border-style: initial; border-color: initial; font-family: inherit; height: inherit; font-size: inherit !important; font-weight: inherit !important; color: rgb(0, 45, 122) !important;">query</span><span style="margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important; border-width: 0px; border-style: initial; border-color: initial; font-family: inherit; height: inherit; font-size: inherit !important; font-weight: inherit !important; color: rgb(51, 51, 51) !important;">.</span><span style="margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important; border-width: 0px; border-style: initial; border-color: initial; font-family: inherit; height: inherit; font-size: inherit !important; font-weight: inherit !important; color: rgb(0, 45, 122) !important;">name</span><span style="margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important; border-width: 0px; border-style: initial; border-color: initial; font-family: inherit; height: inherit; font-size: inherit !important; font-weight: inherit !important; color: rgb(51, 51, 51) !important;">,</span><span style="margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important; border-width: 0px; border-style: initial; border-color: initial; font-family: inherit; height: inherit; font-size: inherit !important; font-weight: inherit !important; color: rgb(0, 111, 224) !important;"> </span><span style="margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important; border-width: 0px; border-style: initial; border-color: initial; font-family: inherit; height: inherit; font-size: inherit !important; font-weight: inherit !important; color: rgb(0, 45, 122) !important;">req</span><span style="margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important; border-width: 0px; border-style: initial; border-color: initial; font-family: inherit; height: inherit; font-size: inherit !important; font-weight: inherit !important; color: rgb(51, 51, 51) !important;">.</span><span style="margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important; border-width: 0px; border-style: initial; border-color: initial; font-family: inherit; height: inherit; font-size: inherit !important; font-weight: inherit !important; color: rgb(0, 45, 122) !important;">query</span><span style="margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important; border-width: 0px; border-style: initial; border-color: initial; font-family: inherit; height: inherit; font-size: inherit !important; font-weight: inherit !important; color: rgb(51, 51, 51) !important;">.</span><span style="margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important; border-width: 0px; border-style: initial; border-color: initial; font-family: inherit; height: inherit; font-size: inherit !important; font-weight: inherit !important; color: rgb(0, 45, 122) !important;">id</span><span style="margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important; border-width: 0px; border-style: initial; border-color: initial; font-family: inherit; height: inherit; font-size: inherit !important; font-weight: inherit !important; color: rgb(51, 51, 51) !important;">)</span></span></p><div style="margin: 0px; padding: 0px; clear: both; min-height: 1em; color: rgb(62, 62, 62); font-family: -apple-system-font, 'Helvetica Neue', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif; font-size: 16px; font-style: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; box-sizing: border-box !important; word-wrap: break-word !important;"><div><span style="margin: 0px; padding: 0px; box-sizing: border-box !important; word-wrap: break-word !important; font-size: 12px;"><span style="margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important; border-width: 0px; border-style: initial; border-color: initial; font-family: inherit; height: inherit; font-size: inherit !important; font-weight: inherit !important; color: rgb(0, 111, 224) !important;">    </span><span style="margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important; border-width: 0px; border-style: initial; border-color: initial; font-family: inherit; height: inherit; font-size: inherit !important; font-weight: bold !important; color: rgb(128, 0, 128) !important;">var</span><span style="margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important; border-width: 0px; border-style: initial; border-color: initial; font-family: inherit; height: inherit; font-size: inherit !important; font-weight: inherit !important; color: rgb(0, 111, 224) !important;"> </span><span style="margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important; border-width: 0px; border-style: initial; border-color: initial; font-family: inherit; height: inherit; font-size: inherit !important; font-weight: inherit !important; color: teal !important;">data</span><span style="margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important; border-width: 0px; border-style: initial; border-color: initial; font-family: inherit; height: inherit; font-size: inherit !important; font-weight: inherit !important; color: rgb(0, 111, 224) !important;"> = </span><span style="margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important; border-width: 0px; border-style: initial; border-color: initial; font-family: inherit; height: inherit; font-size: inherit !important; font-weight: inherit !important; color: rgb(221, 17, 68) !important;">&quot;{&quot;</span><span style="margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important; border-width: 0px; border-style: initial; border-color: initial; font-family: inherit; height: inherit; font-size: inherit !important; font-weight: inherit !important; color: rgb(0, 111, 224) !important;"> + </span><span style="margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important; border-width: 0px; border-style: initial; border-color: initial; font-family: inherit; height: inherit; font-size: inherit !important; font-weight: inherit !important; color: rgb(221, 17, 68) !important;">&quot;name:'&quot;</span><span style="margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important; border-width: 0px; border-style: initial; border-color: initial; font-family: inherit; height: inherit; font-size: inherit !important; font-weight: inherit !important; color: rgb(0, 111, 224) !important;"> + </span><span style="margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important; border-width: 0px; border-style: initial; border-color: initial; font-family: inherit; height: inherit; font-size: inherit !important; font-weight: inherit !important; color: rgb(0, 45, 122) !important;">req</span><span style="margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important; border-width: 0px; border-style: initial; border-color: initial; font-family: inherit; height: inherit; font-size: inherit !important; font-weight: inherit !important; color: rgb(51, 51, 51) !important;">.</span><span style="margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important; border-width: 0px; border-style: initial; border-color: initial; font-family: inherit; height: inherit; font-size: inherit !important; font-weight: inherit !important; color: rgb(0, 45, 122) !important;">query</span><span style="margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important; border-width: 0px; border-style: initial; border-color: initial; font-family: inherit; height: inherit; font-size: inherit !important; font-weight: inherit !important; color: rgb(51, 51, 51) !important;">.</span><span style="margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important; border-width: 0px; border-style: initial; border-color: initial; font-family: inherit; height: inherit; font-size: inherit !important; font-weight: inherit !important; color: rgb(0, 45, 122) !important;">name</span><span style="margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important; border-width: 0px; border-style: initial; border-color: initial; font-family: inherit; height: inherit; font-size: inherit !important; font-weight: inherit !important; color: rgb(0, 111, 224) !important;"> + </span><span style="margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important; border-width: 0px; border-style: initial; border-color: initial; font-family: inherit; height: inherit; font-size: inherit !important; font-weight: inherit !important; color: rgb(221, 17, 68) !important;">&quot; - server 3001 process',&quot;</span><span style="margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important; border-width: 0px; border-style: initial; border-color: initial; font-family: inherit; height: inherit; font-size: inherit !important; font-weight: inherit !important; color: rgb(0, 111, 224) !important;"> + </span><span style="margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important; border-width: 0px; border-style: initial; border-color: initial; font-family: inherit; height: inherit; font-size: inherit !important; font-weight: inherit !important; color: rgb(221, 17, 68) !important;">&quot;id:'&quot;</span><span style="margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important; border-width: 0px; border-style: initial; border-color: initial; font-family: inherit; height: inherit; font-size: inherit !important; font-weight: inherit !important; color: rgb(0, 111, 224) !important;"> + </span><span style="margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important; border-width: 0px; border-style: initial; border-color: initial; font-family: inherit; height: inherit; font-size: inherit !important; font-weight: inherit !important; color: rgb(0, 45, 122) !important;">req</span><span style="margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important; border-width: 0px; border-style: initial; border-color: initial; font-family: inherit; height: inherit; font-size: inherit !important; font-weight: inherit !important; color: rgb(51, 51, 51) !important;">.</span><span style="margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important; border-width: 0px; border-style: initial; border-color: initial; font-family: inherit; height: inherit; font-size: inherit !important; font-weight: inherit !important; color: rgb(0, 45, 122) !important;">query</span><span style="margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important; border-width: 0px; border-style: initial; border-color: initial; font-family: inherit; height: inherit; font-size: inherit !important; font-weight: inherit !important; color: rgb(51, 51, 51) !important;">.</span><span style="margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important; border-width: 0px; border-style: initial; border-color: initial; font-family: inherit; height: inherit; font-size: inherit !important; font-weight: inherit !important; color: rgb(0, 45, 122) !important;">id</span><span style="margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important; border-width: 0px; border-style: initial; border-color: initial; font-family: inherit; height: inherit; font-size: inherit !important; font-weight: inherit !important; color: rgb(0, 111, 224) !important;"> + </span><span style="margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important; border-width: 0px; border-style: initial; border-color: initial; font-family: inherit; height: inherit; font-size: inherit !important; font-weight: inherit !important; color: rgb(221, 17, 68) !important;">&quot; - server 3001 process'&quot;</span><span style="margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important; border-width: 0px; border-style: initial; border-color: initial; font-family: inherit; height: inherit; font-size: inherit !important; font-weight: inherit !important; color: rgb(0, 111, 224) !important;"> +</span><span style="margin: 0px; padding: 0px; box-sizing: border-box !important; word-wrap: break-word !important; border-width: 0px; border-style: initial; border-color: initial; font-family: inherit; height: inherit; font-size: inherit !important; font-weight: inherit !important; color: rgb(221, 17, 68) !important;">&quot;}&quot;</span></span></div></div></div><ul><li>后台把从前台获取到的jsonpCallback回调函数和这个data数据相拼接，为前台调用这个回调函数做准备：</li></ul><div>          
<div style="margin: 0px; padding: 0px; clear: both; min-height: 1em; color: rgb(62, 62, 62); font-family: -apple-system-font, 'Helvetica Neue', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif; font-size: 16px; font-style: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; box-sizing: border-box !important; word-wrap: break-word !important;"><div><span style="margin: 0px; padding: 0px; box-sizing: border-box !important; word-wrap: break-word !important; font-size: 12px;"><span style="margin: 0px; padding: 0px; box-sizing: border-box !important; word-wrap: break-word !important; border-width: 0px; border-style: initial; border-color: initial; font-family: inherit; height: inherit; font-size: inherit !important; font-weight: bold !important; color: rgb(128, 0, 128) !important;">          var</span><span style="margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important; border-width: 0px; border-style: initial; border-color: initial; font-family: inherit; height: inherit; font-size: inherit !important; font-weight: inherit !important; color: rgb(0, 111, 224) !important;"> </span><span style="margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important; border-width: 0px; border-style: initial; border-color: initial; font-family: inherit; height: inherit; font-size: inherit !important; font-weight: inherit !important; color: rgb(0, 45, 122) !important;">callback</span><span style="margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important; border-width: 0px; border-style: initial; border-color: initial; font-family: inherit; height: inherit; font-size: inherit !important; font-weight: inherit !important; color: rgb(0, 111, 224) !important;"> = </span><span style="margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important; border-width: 0px; border-style: initial; border-color: initial; font-family: inherit; height: inherit; font-size: inherit !important; font-weight: inherit !important; color: rgb(0, 45, 122) !important;">req</span><span style="margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important; border-width: 0px; border-style: initial; border-color: initial; font-family: inherit; height: inherit; font-size: inherit !important; font-weight: inherit !important; color: rgb(51, 51, 51) !important;">.</span><span style="margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important; border-width: 0px; border-style: initial; border-color: initial; font-family: inherit; height: inherit; font-size: inherit !important; font-weight: inherit !important; color: rgb(0, 45, 122) !important;">query</span><span style="margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important; border-width: 0px; border-style: initial; border-color: initial; font-family: inherit; height: inherit; font-size: inherit !important; font-weight: inherit !important; color: rgb(51, 51, 51) !important;">.</span><span style="margin: 0px; padding: 0px; box-sizing: border-box !important; word-wrap: break-word !important; border-width: 0px; border-style: initial; border-color: initial; font-family: inherit; height: inherit; font-size: inherit !important; font-weight: inherit !important; color: teal !important;">callback</span></span></div></div><div style="margin: 0px; padding: 0px; clear: both; min-height: 1em; font-style: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; box-sizing: border-box !important; word-wrap: break-word !important;"><div style="color: rgb(62, 62, 62);"><span style="font-size: 16px;"><span style="font-family: -apple-system-font, 'Helvetica Neue', 'PingFang SC', 'Hiragino Sans GB', 'Microsoft YaHei', sans-serif;"><span style="margin: 0px; padding: 0px; box-sizing: border-box !important; word-wrap: break-word !important; font-size: 12px;"><span style="margin: 0px; padding: 0px; box-sizing: border-box !important; word-wrap: break-word !important; border-width: 0px; border-style: initial; border-color: initial; font-family: inherit; height: inherit; font-size: inherit !important; font-weight: inherit !important; color: teal !important;">         </span> <span style="margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important; border-width: 0px; border-style: initial; border-color: initial; font-family: inherit; height: inherit; font-size: inherit !important; font-weight: bold !important; color: rgb(128, 0, 128) !important;">var</span><span style="margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important; border-width: 0px; border-style: initial; border-color: initial; font-family: inherit; height: inherit; font-size: inherit !important; font-weight: inherit !important; color: rgb(0, 111, 224) !important;"> </span><span style="margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important; border-width: 0px; border-style: initial; border-color: initial; font-family: inherit; height: inherit; font-size: inherit !important; font-weight: inherit !important; color: rgb(0, 45, 122) !important;">jsonp</span><span style="margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important; border-width: 0px; border-style: initial; border-color: initial; font-family: inherit; height: inherit; font-size: inherit !important; font-weight: inherit !important; color: rgb(0, 111, 224) !important;"> = </span><span style="margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important; border-width: 0px; border-style: initial; border-color: initial; font-family: inherit; height: inherit; font-size: inherit !important; font-weight: inherit !important; color: rgb(0, 45, 122) !important;">callback</span><span style="margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important; border-width: 0px; border-style: initial; border-color: initial; font-family: inherit; height: inherit; font-size: inherit !important; font-weight: inherit !important; color: rgb(0, 111, 224) !important;"> + </span><span style="margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important; border-width: 0px; border-style: initial; border-color: initial; font-family: inherit; height: inherit; font-size: inherit !important; font-weight: inherit !important; color: rgb(221, 17, 68) !important;">'('</span><span style="margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important; border-width: 0px; border-style: initial; border-color: initial; font-family: inherit; height: inherit; font-size: inherit !important; font-weight: inherit !important; color: rgb(0, 111, 224) !important;"> + </span><span style="margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important; border-width: 0px; border-style: initial; border-color: initial; font-family: inherit; height: inherit; font-size: inherit !important; font-weight: inherit !important; color: rgb(0, 45, 122) !important;">data</span><span style="margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important; border-width: 0px; border-style: initial; border-color: initial; font-family: inherit; height: inherit; font-size: inherit !important; font-weight: inherit !important; color: rgb(0, 111, 224) !important;"> + </span><span style="margin: 0px; padding: 0px; box-sizing: border-box !important; word-wrap: break-word !important; border-width: 0px; border-style: initial; border-color: initial; font-family: inherit; height: inherit; font-size: inherit !important; font-weight: inherit !important; color: rgb(221, 17, 68) !important;">')'</span></span></span></span></div><ul><li>使用 <span style="margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important; font-family: inherit; font-size: inherit !important; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: inherit !important; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); border-width: 0px; border-style: initial; border-color: initial; height: inherit; color: rgb(0, 45, 122) !important;">res</span><span style="margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important; font-family: inherit; font-size: inherit !important; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: inherit !important; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); border-width: 0px; border-style: initial; border-color: initial; height: inherit; color: rgb(51, 51, 51) !important;">.</span><span style="margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important; font-family: inherit; font-size: inherit !important; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: inherit !important; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); border-width: 0px; border-style: initial; border-color: initial; height: inherit; color: teal !important;">send</span><span style="margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important; font-family: inherit; font-size: inherit !important; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: inherit !important; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); border-width: 0px; border-style: initial; border-color: initial; height: inherit; color: rgb(51, 51, 51) !important;">(</span><span style="margin: 0px; padding: 0px; max-width: 100%; box-sizing: border-box !important; word-wrap: break-word !important; font-family: inherit; font-size: inherit !important; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: inherit !important; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); border-width: 0px; border-style: initial; border-color: initial; height: inherit; color: rgb(0, 45, 122) !important;">jsonp</span><span style="margin: 0px; padding: 0px; box-sizing: border-box !important; word-wrap: break-word !important; font-family: inherit; font-size: inherit !important; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: inherit !important; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); border-width: 0px; border-style: initial; border-color: initial; height: inherit; color: rgb(51, 51, 51) !important;">)方法将拼接的字符串变为代码形式---Content-Type:text/html</span></li><li>因为前台已经有预定义的回调函数，拿到这个转好的代码之后就可以执行了</li></ul><div>-------------------------------------------关于$scope.$apply</div><div>什么时候用$apply()?</div><div>     那我们到底什么时候需要去调用$apply()方法呢？情况非常少，实际上几乎我们所有的代码都包在$scope.$apply()里面，像ng-click，controller的初始化，$http的毁掉函数等。在这些情况下，我们不需要自己调用，实际上我们也不能自己调用，否则在$apply()方法里面再调用$apply()方法会抛出错误。如果我们需要在一个新的执行序列中运行代码时才真正需要用到它，而且<span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;">当且仅当这个新的执行序列不是被angular JS的库的方法创建的</span>，这个时候我们需要将代码用$scope.$apply()包起来。</div></div></div></span>
</div></body></html> 